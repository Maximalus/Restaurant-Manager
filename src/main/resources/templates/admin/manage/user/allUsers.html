<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="UTF-8">
    <title>Управління користувачами</title>
</head>
<body>
    <div id="identification_block" sec:authorize="isAuthenticated()">
        <h1>Користувач <span sec:authentication="name"> Username </span></h1><br>
        <a th:href="@{/logout}">Вихід з системи</a>
    </div><br>
    <div id="head_block" sec:authorize="isAuthenticated()">
        <h1>Навігація</h1><br>
        <a th:href="@{/admin/admin}">Панель адміністратора</a><br>
        <a th:href="@{/admin/createUser}">Створити нового працівника</a><br>
    </div><br>

    <table>
        <thead>
            <tr>
                <th>Ід</th>
                <th>Прізвище</th>
                <th>Ім'я</th>
                <th>Електронна пошта</th>
                <th>Дата створення</th>
                <th>Дата зміни</th>
                <th>Ресторан</th>
                <th>Роль</th>
                <th sec:authorize="hasAuthority('ADMIN-WRITE')">Змінити</th>
                <th sec:authorize="hasAuthority('ADMIN-WRITE')">Видалити</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="user:${users}" th:cellpadding="6">
                <td th:text="${user.id}"></td>
                <td th:text="${user.lastName}"></td>
                <td th:text="${user.firstName}"></td>
                <td th:text="${user.email}"></td>
                <td th:text="${user.creationDate}"></td>
                <td th:text="${user.changingDate}"></td>
                <td th:text="${user.outlet}"></td>
                <td th:text="${user.role}"></td>
                <td><a th:href="@{editUser(id=${user.id})}" sec:authorize="hasAuthority('ADMIN-WRITE')">Змінити</a></td>
                <td> <a th:href="@{deleteUser(id=${user.id})}" sec:authorize="hasAuthority('ADMIN-WRITE')">Видалити</a></td>
            </tr>
        </tbody>
    </table>
</body>
</html>